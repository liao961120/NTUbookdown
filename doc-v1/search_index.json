[
["index.html", "臺大論文模板 關於", " 臺大論文模板 廖永賦 March 7, 2019 關於 這是 ntuthesis 的說明文件。這份說明文件是以臺大論文格式所寫成，並且可以輸出成 HTML（GitBook），亦即您目前所見的文件，或是 PDF，亦即完整的臺大論文（可透過 navbar 上的 查看）。 使用此論文模板應至少對 R Markdown 有初步的了解，例如知道 Markdown 的基本語法並且曾透過 R Markdown 輸出 html_document。 "],
["install.html", "第 1 章 安裝 1.1 IDE 1.2 LaTeX", " 第 1 章 安裝 v1.0.0 2019-02-10 之前已使用 ntuthesis 撰寫論文者，請下載 v1.0.0： #install.packages(&#39;remotes&#39;) remotes::install_github(&quot;liao961120/ntuthesis@v1.0.0&quot;) 最新版 #install.packages(&#39;remotes&#39;) remotes::install_github(&quot;liao961120/ntuthesis&quot;) 新版的 ntuthesis 能加入其它學校的模板，目前正在開發中。API 與舊版兼容，但舊的 ntu_bookdown 模板已更新為 ntu，並且不容於新版。已使用 ntu_bookdown 模板者，請下載 v1.0.0。 1.1 IDE 建議使用 Rstudio，因為安裝 Rstudio 時，同時會安裝 Pandoc。若使用者使用 Rstudio 以外的 IDE，需要自行安裝並設定 Pandoc PATH。 1.2 LaTeX 若已有管理、安裝 LaTeX 套件經驗者，可忽略。 1.2.1 tinytex 套件 若電腦尚未安裝 LaTeX，可安裝 R 的 tinytex 套件： install.packages(&#39;tinytex&#39;) 接著，選擇與電腦相同作業系統的連結下載 TinyTeX Library1： Linux x86_64 Windows 7/10 64bit Mac 使用者請略過此節，閱讀 1.2.1.1 節 下載檔案後， 將檔案解壓縮2 將解壓後資料夾中的 .TinyTeX/3 放至喜歡的路徑（e.g. ~/.TinyTeX） 接著在 R 中執行： tinytex::use_tinytex() 即會跳出一個視窗。請選擇 .TinyTeX/ 所在的路徑。 若失敗詳見此篇文章。 1.2.1.1 LaTeX 套件管理 在輸出 R Markdown 時，tinytex 會自動安裝缺少的 LaTeX 套件。因此，使用 TinyTeX 可以減輕管理 LaTeX 套件的麻煩。然而，下載 LaTeX 套件需要許多時間，因此這裡提供預先下載好之 TinyTeX（Windows 和 Linux）。 1.2.1.1.1 Mac 由於作者沒有 Mac 電腦，無法提供 Mac 版本的 TinyTeX，Mac 使用者需使用 tinytex::install_tinytex() 安裝 TinyTeX，之後讓電腦在輸出論文時，自動安裝所需的套件。 這會使得第一次輸出論文時會花費較多時間，然而，若願意的話，您可以將下載到您電腦上的 TinyTeX 提供給其他 Mac 使用者： 成功輸出論文 PDF 後，執行 tinytex::copy_tinytex() 即會跳出一個新視窗。選擇資料夾後，即會將電腦上的 TinyTeX 複製到此資料夾。如此，下一位使用者只須將此資料夾複製到電腦上，並用 tinytex::use_tinytex() 設定 TinyTeX 的路徑至該資料夾，即可節省輸出論文時安裝 LaTeX 套件所耗費的時間。 希望使用 Mac 成功輸出論文的使用者能將 TinyTeX 的壓縮檔或連結提供給我，讓其他的使用者受益。 根據 Yihui 的說明 (https://yihui.name/en/2018/08/tinytex-flash-drive)，TinyTex 具有可攜式（portable）的特性。↩ Linux 使用者可用 tar -zxvf tinytex-linux.tar.gz 指令解壓縮。Windows 使用者可用 7-Zip 解壓縮。↩ 在 Windows 上是 TinyTeX/↩ "],
["export-thesis.html", "第 2 章 輸出論文 2.1 匯入論文模板 2.2 編輯封面 2.3 Compile 論文", " 第 2 章 輸出論文 2.1 匯入論文模板 在 console 執行： ntuthesis::import_template(&quot;project_name&quot;) 接著將該資料夾變更為 bookdown 專案（working dir 需為該專案資料夾）： ntuthesis::init_proj() # init working dir as proj. 詳細的檔案結構，見 3.1。 2.2 編輯封面 在_person-info.yml輸入個人資料後，並且確定電腦上有標楷體和 Times New Roman 這兩種字體（Windows 有內建這兩種字體）。若無，請將_person-info.yml中： #cjk-mainfont: &#39;AR PL KaitiM Big5&#39; # Default, 標楷體 #en-mainfont: &#39;Liberation Serif&#39; # Default, Times New Roman 修改為其它電腦上的字體，例如： cjk-mainfont: &#39;Noto Serif CJK TC&#39; # Default, 標楷體 en-mainfont: &#39;Liberation Serif&#39; # Default, Times New Roman 接著執行： ntuthesis::comp_front() 即會在 front-matter/ 生成封面所需的檔案。以使用者的角度而言，除了 front-matter/certification.pdf 以外，不須理會 front-matter/ 中的其它檔案。certification.pdf 是空白（未簽名）的「口試委員審定書」。 使用者可以將 front-matter/certification.pdf 列印出來。之後再將簽名過的「口試委員審定書」掃描成 PDF 並命名為 certification-scan.pdf ，取代原本專案資料夾的同名檔案。 2.3 Compile 論文 如同前述（2.2），在輸出論文時，需確保系統上已安裝標楷體和 Times New Roman，若無，請依 2.2 修改 index.Rmd yaml 中的 #cjk-mainfont: &#39;AR PL KaitiM Big5&#39; # Default: 標楷體 ... #en-mainfont: &#39;Liberation Serif&#39; # Default: Times New Roman 接著用 RStudio Build Pane 裡的 button 輸出論文： 圖 2.1: 透過 RStudio 輸出論文 或是在 console 執行下方指令： bookdown::render_book(&quot;index.Rmd&quot;, &quot;bookdown::gitbook&quot;) bookdown::render_book(&quot;index.Rmd&quot;, &quot;bookdown::pdf_book&quot;) 如此便會在 _book/ 中生成完整的論文（gitbook 和 PDF 格式）。 "],
["write-thesis.html", "第 3 章 論文撰寫 3.1 檔案結構 3.2 index.Rmd 3.3 撰寫語言 3.4 文獻引用", " 第 3 章 論文撰寫 3.1 檔案結構 執行以下指令後（詳見 2.1） ntuthesis::import_template(&quot;project_name&quot;) 即會匯入論文模板。以下是論文模板的檔案結構（已簡化）： ├── project_name.Rmd # Useless, please delete it | ├── R/ # code chunk root dir, put R scripts and data here ├── figs/ # Put figures to include in the thesis here | ├── index.Rmd # Book Layout (font, watermark, biblio, ...) ├── _acknowledge.Rmd # acknowledgement ├── _abstract-en.Rmd # abstract ├── _abstract-zh.Rmd # Same as above, but in Chinese | ├── 01-intro.Rmd # Chapter 1 content ├── 02-literature.Rmd # Chapter 2 content ├── 03-method.Rmd # Chapter 3 content ├── 80-appx-help.Rmd # Appendix Content ├── 99-references.Rmd # Edit &quot;References&quot; Title ├── ref.bib # References ├── cite-style.csl # Citation style | ├── _bookdown.yml # label names in gitbook; Rmd files order ├── _output.yml # preamble, pandoc args, cite-pkg | ├── watermark.pdf # 臺大浮水印 (PDF 右上角) ├── _person-info.yml # Info to generate front matter ├── certification-scan.pdf # 已簽名&#39;口試委員審查書&#39; └── front_matter └── certification.pdf # 空白&#39;口試委員審查書&#39; 3.2 index.Rmd index.Rmd 是設定論文內文格式的地方，包含 yaml 以及 R setup code chunk。此模板將 code chunk 預設的 working directory 改成 R/4，如此較符合一般寫 Rscript 的邏輯5。若要更改此設定，至 setup code chunk 更改 knitr::opts_knit$set(root.dir='R')。 3.3 撰寫語言 若使用英文撰寫論文，需修改 _output.yml、_bookdown.yml 這兩個檔案的內容。 3.3.1 _output.yml 將 in_header: latex/preamble-zh.tex 改為 in_header: latex/preamble-en.tex： bookdown::pdf_book: includes: in_header: latex/preamble-en.tex 3.3.2 _bookdown.yml _bookdown.yml 中，可以對標籤的名稱進行定義。這裡的設定與 PDF 輸出無關，只與 gitbook 輸出格式有關。因此，若無需使用 gitbook 輸出，可忽略此段。 此外，_bookdown.yml 亦可設定 Rmd 檔在輸出文件中的順序。若無設定，就會依序檔名排序6。 在以下設定中，可使 gitbook 輸出的章節（順序）與 PDF 不同。 rmd_files: html: [&quot;index.Rmd&quot;, &quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;] latex: [&quot;abstract.Rmd&quot;, &quot;intro.Rmd&quot;] 3.4 文獻引用 R Markdown 在文章中插入引用文獻的功能承繼 Pandoc。完整的使用見 R Markdown 官方說明 。 此模板目前產生文獻格式的方法是依靠 Pandoc citeproc，因此，文獻格式是依據 cite-style.csl7 產生的。使用者可至 Zotero Style Repository 下載所需的 csl 檔並覆蓋專案資料夾中的 cite-style.csl。 3.4.1 ref.bib .bib 檔的產生方式可以由 Endnote, Zotero, JabRef 等書目管理軟體匯出。匯出後，將檔名命名為 ref.bib 放在專案資料夾8。 .bib 內的一篇引用資料會類似： @article{leung2008, title = {Multicultural Experience Enhances Creativity: {{The}} When and How.}, volume = {63}, issn = {1935-990X(Electronic),0003-066X(Print)}, doi = {10.1037/0003-066X.63.3.169}, number = {3}, journaltitle = {American Psychologist}, date = {2008}, pages = {169-181}, keywords = {*Cognition,*Creativity, *Culture (Anthropological), *Experiences (Events),Multiculturalism}, author = {Leung, Angela Ka-yee and Maddux, William W. and Galinsky, Adam D. and Chiu, Chi-yue} } 其中第一行的 leung2008 即為 citation key。透過 @citekey(@leung2008)即可在文獻中插入 citation。匯出論文時，文末會自動產生引用的文獻。 3.4.2 引用語法 citr 是一個方便使用者插入引用文獻的 R 套件，讓使用者能透過 GUI 插入文獻： 圖 3.1: 使用 citr 套件插入引用文獻 當需要更複雜的引用格式，如標示第幾頁，可以修改透過 citr 插入的語法： Some text [@citekey]. Some text (Leung, Maddux, Galinsky, &amp; Chiu, 2008). @citekey Some text Leung et al. (2008) Some text @citekey [p. 20] Some text. Leung et al. (2008, p. 20) Some text. Some text [-@citekey]. Some text (2008) Some text [@citekey1; @citekey2]. Some text (Leung et al., 2008; 黃宣範, 1993). Prefix &amp; Suffix Text [see @citekey1 pp.45; also, @citekey2 ch. 2]. Text (see Leung et al., 2008, p. 45; also, 黃宣範, 1993 ch. 2). 3.4.3 書目管理軟體 這裡建議使用 Zotero 加上 Better BibTeX 擴充功能。citr 對 Zotero 有額外的支持，且 Zotero 能夠控制 citation key 的格式（例如，last name + year），但其它書目管理軟體如 Endnote 產生的 citation key 難以讀懂且無法更改格式。 3.4.4 多語言文獻引用 透過 csl 排版引用格式，只能支援單一語言。例如，若將英文格式套用到中文文獻，中文文獻就會出現英文的半形逗點和句點。 多語言的引用或許可透過 LaTeX 的引用套件達成，但由於作者本人對 LaTeX 不夠熟悉，目前尚未解決此問題。若您是 LaTeX 的高手，歡迎至附錄 A 給我一些指教。 參考資料 "],
["cheatsheet.html", "第 4 章 語法 Cheatsheet 4.1 章節連結 4.2 數學 4.3 Figure Referencing 4.4 Table Referencing 4.5 總整理", " 第 4 章 語法 Cheatsheet 下文許多內容直接自 Bookdown 擷取。想完整了解者，請閱讀 Bookdown 中的內容。 4.1 章節連結 4.1.1 錨點定義 在內文中，可以使用特殊語法建立前往其它章節的連結，但首先每個章節需要有錨點。若章節標題由英數組成，例如 ## Experimental Design， 則錨點會自動被定義成 experimental-design。若標題含有中文，例如 ## 實驗設計 則需自行定義錨點：## 實驗設計 {#exp-design}。 4.1.2 內文連結 要在內文建立連至其它章節的連結，需使用 \\@ref(anchor) 的語法，例如， 連結至 ## Experimental Design \\@ref(experimental-design) 連結至 ## 實驗設計 {#exp-design} \\@ref(exp-design) 4.2 數學 4.2.1 Unnumbered Equations \\begin{equation*} \\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x) \\end{equation*} \\[\\begin{equation*} \\frac{d}{dx}\\left( \\int_{a}^{x} f(u)\\,du\\right)=f(x) \\end{equation*}\\] 4.2.2 Numbered Equations \\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} (\\#eq:bino) \\end{equation} 式 \\@ref(eq:bino) \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{4.1} \\end{equation}\\] 式 (4.1) 4.2.3 Multi-line Aligned Equations \\begin{equation} \\begin{split} \\mathrm{Var}(\\hat{\\beta}) &amp; =\\mathrm{Var}((X&#39;X)^{-1}X&#39;y)\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)X(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\sigma^{2}IX(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}\\sigma^{2} \\end{split} (\\#eq:var-beta) \\end{equation} 詳見公式 \\@ref(eq:var-beta) \\[\\begin{equation} \\begin{split} \\mathrm{Var}(\\hat{\\beta}) &amp; =\\mathrm{Var}((X&#39;X)^{-1}X&#39;y)\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)((X&#39;X)^{-1}X&#39;)&#39;\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\mathrm{Var}(y)X(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}X&#39;\\sigma^{2}IX(X&#39;X)^{-1}\\\\ &amp; =(X&#39;X)^{-1}\\sigma^{2} \\end{split} \\tag{4.2} \\end{equation}\\] 詳見公式 (4.2) 4.2.4 定理與證明 ```{theorem, thm-label, name=&quot;Pythagorean theorem&quot;} For a right triangle, if $c$ denotes the length of the hypotenuse and $a$ and $b$ denote the lengths of the other two sides, we have $$a^2 + b^2 = c^2$$ ``` 詳見定理 \\@ref(thm:thm-label) Theorem 4.1 (Pythagorean theorem) For a right triangle, if \\(c\\) denotes the length of the hypotenuse and \\(a\\) and \\(b\\) denote the lengths of the other two sides, we have \\[a^2 + b^2 = c^2\\] 詳見定理 4.1 4.2.5 環境 除了 theorem 之外，還可以使用其它 bookdown 提供的環境。例如，將 code chunk 中 theorem 換成 proof, remark, solution9。 表 4.1 呈現 bookdown 中的引用環境。 表 4.1: Theorem environments in bookdown. Environment Printed Name Label Prefix theorem Theorem thm lemma Lemma lem corollary Corollary cor proposition Proposition prp conjecture Conjecture cnj definition Definition def example Example exm exercise Exercise exr 4.3 Figure Referencing ```{r iris, fig.cap= &quot;The iris data.&quot;} library(ggplot2) pl_iris &lt;- ggplot(data = iris) + geom_point(aes(x = Sepal.Length, y = Sepal.Width, color = Species) ) pl_iris ``` 圖 4.1: The iris data. 見圖 \\@ref(fig:iris)產生：見圖 4.1 4.3.1 Figure Caption 對於比較複雜的 caption，可以使用 Text reference 的方式： 對於比較複雜的 caption，可以使用 Text reference 的方式： (ref:dia) 插入**引用資料** [@kassin2017] 的 Figure Caption. ```{r dia, fig.cap=&#39;(ref:dia)&#39;, fig.show=&#39;hold&#39;, out.width=c(&#39;48%&#39;,&#39;48%&#39;)} ggplot(data = diamonds) + geom_point(aes(x = carat, y = price, color = cut), size = 0.1) + guides(color = guide_legend( override.aes = list(size = 2) )) pl_iris # Second figure ``` 圖 4.2: 插入引用資料 (Kassin, Fein, &amp; Markus, 2017) 的 Figure Caption. 4.4 Table Referencing (ref:mtcars) Dynamic variable in caption: `r Sys.time()`. ```{r mtcars, echo=FALSE} knitr::kable( head(mtcars[, 1:8], 5), booktabs = TRUE, caption = &#39;(ref:mtcars)&#39; ) ``` ### Link Table in Later Sections {-} 見表 \\@ref(tab:mtcars) 表 4.2: Dynamic variable in caption: 2019-03-07 16:05:22. mpg cyl disp hp drat wt qsec vs Mazda RX4 21 6 160 110 3.9 2.6 16 0 Mazda RX4 Wag 21 6 160 110 3.9 2.9 17 0 Datsun 710 23 4 108 93 3.9 2.3 19 1 Hornet 4 Drive 21 6 258 110 3.1 3.2 19 1 Hornet Sportabout 19 8 360 175 3.1 3.4 17 0 Link Table in Later Sections 見表 4.2 4.5 總整理 \\@ref(section-anchor) (ref:mtcar) Text refereces \\@ref(fig:fig-label) fig-label is code chunk label \\@ref(thm:thm-label) thm-label is code chunk label \\@ref(tab:tab-label) tab-label is code chunk label. Use text reference for complicated captions. \\@ref(eq:eq-label) Defined as (\\#eq:eq-label) in LaTeX equation environment 參考資料 "],
["add-on.html", "第 5 章 進階功能擴充 5.1 語言學", " 第 5 章 進階功能擴充 透過其它 R 套件，R Markdown 的撰寫過程能夠更順暢。以下介紹幾個例子，歡迎補充說明。 5.1 語言學 語言學相關文件寫作時，常需要插入 IPA 語音符號，但鍵盤通常難以直接打出這些符號。為此，我寫了一個 R 套件，讓使用者能直接在 RStudio 中透過輸入語音 features 的方式打出 IPA： 圖 5.1: 使用 linguisticsdown 套件插入 IPA 音標符號 要使用這功能，需安裝 linguisticsdown： install.packages(&quot;linguisticsdown&quot;) 並且在 index.Rmd 的 yaml 設定 IPA 符號專用的字型（需確認電腦上有安裝此字型）： ipa-font: &#39;Doulos SIL&#39; 關於更詳細的功能，見套件網頁 "],
["feed-back.html", "問題協助 提出問題 R Markdown 相關資源 Improve the Project", " 問題協助 提出問題 若使用此模板遇到困難不知如何解決，可以透過下列管道聯絡我（按優先順序排列）： 提出 GitHub issue（需有 GitHub 帳號） 直接在這份說明文件中與問題相關的章節留言（頁面最下方的 disqus 留言） 除非有特殊的原因，請勿透過電子郵件提出問題。公開自己的問題對其他人有很大的幫助，也能避免將時間浪費在重複回答相同的問題。 R Markdown 相關資源 以下都是 R Markdown 相關的參考資源。與此論文模板最直接相關的是 Bookdown。R Markdown: The Definitive Guide 幾乎涵蓋了 R Markdown 的所有用途（例如，投影片製作）。Pandoc 則是 R Markdown 能夠支援多種輸出格式的關鍵，因為 R Markdown 的格式輸出是仰賴 Pandoc 模板（也是這個論文模板的製作方式）且 R Markdown 的 Markdown 語法即是 Pandoc Markdown 的語法。 Bookdown R Markdown: The Definitive Guide Pandoc User’s Guide Improve the Project 最後，若您發現這份論文模板有錯誤或是可以改進的地方，同樣可以依上述的步驟提出問題。甚至如果知道如何解決問題，歡迎直接提出 pull request。pull request 的範圍不限在模板本身。若您看到這份文件中有任何錯誤，可以直接透過 navbar 上的 修改文件。 "],
["latex-cite-pkg.html", "A 尋找 LaTeX 高手", " A 尋找 LaTeX 高手 R Markdown 的 PDF 輸出是透過 Pandoc 的 LaTeX 模板，因此理論上 LaTeX 可以做到的事，也可以透過 R Markdown 達成。目前的問題是 LaTeX 本身並未有支援繁體中文格式的文獻引用套件 經過一段時間的搜尋，發現 biblatex 套件似乎可以定義不同的引用格式1011，因此，或許可以透過定義新的標點符號，例如將原本引用格式中 , 定義成 ， . 定義成 。 再透過 .bib 檔中的 langid field 辨識要使用何種引用格式。然而，由於作者本人對 LaTeX 並不熟悉，因此需要這方面熟手的協助。 https://tex.stackexchange.com/questions/417762/different-styles-between-citations-and-bibliography↩ https://tex.stackexchange.com/questions/377308/different-citation-styles-for-the-same-bibliography↩ "],
["epilogue.html", "B 後記", " B 後記 I have a dream that one day all students and researchers will forget what “formatting a paper” even means. I have a dream that one day journals and grad schools no longer have style guides. I have a dream that one day no missing $ is inserted, and \\hbox is never overfull. — Yihui Xie R Markdown 的精神之一就是希望能免除使用者排版的困擾。在認識 R Markdown 的第一天後，我就希望未來（如果有機會的話）可以用 R Markdown 寫論文。但從第一次嘗試用 R Markdown 輸出中文 PDF 時，我就意識到這是一件麻煩事12。換句話說，應該等不到有人幫我做出論文模板的一天。因此，自己就站在前輩們的肩膀上13，做出了這個論文模板。 這一切都起源於 LaTeX 的複雜度。↩ 包含 tzhuan/ntu-thesis (https://github.com/tzhuan/ntu-thesis) 的 XeLaTeX 台大論文模板、thesisdown (https://github.com/ismayc/thesisdown) 的啟發、Pandoc 以及 Bookdown 和 R Markdown 的生態系統。↩ "],
["references.html", "參考資料", " 參考資料 "]
]
